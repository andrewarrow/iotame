package main

import "fmt"
import "github.com/iotaledger/giota"

func main() {
	/*

	   hash: String 81-trytes unique hash of this transaction
	   signatureMessageFragment : String 2187-trytes signature message fragment. In case there is a spent input, the signature of the private key is stored here. If no signature is required, it is empty (all 9's) and can be used for storing the message value when making a transfer. More to that later.
	   address: String 81-trytes address. In case this is an *output*, then this is the address of the recipient. In case it is an *input*, then it is the address of the input which is used to send the tokens from (i.e. address generated from the private key)
	   value : Int value transferred in this transaction
	   timestamp : Int timestamp of the transaction. It is important to know that timestamps in IOTA are not enforced.
	   currentIndex : Int the index of this transaction in the bundle.
	   lastIndex : Int the total number of transactions in this bundle
	   bundle: String81-tryte bundle hash, which is used for grouping transactions of the bundle together. With the bundle hash you can identify transactions which were in the same bundle.
	   trunkTransaction : String 81-trytes hash of the first transaction that was approved with this transaction
	   branchTransaction: String 81-trytes hash of the second transaction that was approved with this transaction
	   nonce: String 81-trytes hash. The nonce is required for the transaction to be accepted by the network. It is generated by doing Proof of Work (either in IRI via the attachToTangle API call, or with one of the libraries such as ccurl).

	*/
	tx := "PMXEXHQSYNDBCHXTNZQKWKHWSVFWHSKNIPIVAZKBXWPXSIHVDZANEQWPLUZAMTLCTVHKPSYEIZVJALXRYAPAXWISZOGJQLOWMWTCOCKJLQSTU9JIPUTIJ99GQIKALIU9GOENQDNPMKNH9DJ9TLVNDSBVV9IDMVVURAIZJFYRSHUDIHFJREESFETUTXU9KEJLXGFFPFPIFZZWFFSW9BRHUJZ9X9HNDZYEADHMPSMQWVRIBZRQTNDM9UVFOQCBIOYZUHJNBPBUGNNM9ZWP9IQSVPQNJ99MUOZWWIQESDJHYPIXAAZPDOUJNJSSIFWMHXKWPDRWBROK9CMPLTLGBDHIWODZXPVZBNYKOMXFVLDZZXMUWTGKKTC9MPEUUKEYCJRRFRFOPCZMTWDKUXXFJUFZICEXABVEQGLISHKAEWGQTNRWEYBETEMFTFSYAVCT9ETQ9CNWEHIFTKWJLLYXSMT9OCGCDRMOEOSYVONHOYKV9OTRVDEZEGKMDZMSMOIMRXVRSPIPKJPEOFLOSKHLIRKMABTKDMUSHDULKOUJOCTNPMDKURF9EURTQFCZFBLWAKICFDRHCYFVCJ9KLLKTMVVKUQOQOVZPYFPIZZYXBAD9PAEIFYOOGMYUHBSDJFJGXIKNJESZAFPGVSSZHHGSSVYOCQRDILMUVWIDQFOVJXMLBUCMXHTWNQPBHECTLNCX9ZPJEUFQUEPLY9PDIPNJ99JTLOESQHZQ9WWYCBYOAHSCDJFNMOPXXLNDXRFMALKPLBLYSFGLXJNZMIY9ZWGJMOCUJRPLALPHCXLUJIPRWANTDBBFPTUBYTYCPQPIL9GXBFCJ9ATRYZNHWSBFHQIYBPPHYOWJNZLFPOANZLMRBJIEPRTTBBLOQLBHQBVRNRTWDVWMQ9LVTCRJRPYVVJFXCPNZADABGJJVAVYEWKQWGWHBGGJFARYQKMGANZPXLFCQOC9ERSKBQEFCTNJSLNHJEQXYBI9NKDGKQGCQYANPEMSTFPKY9YIRFJOREHQSVZFWIDLITKBYIJQOGC9NLGHIPYHXNLNAAITKZI9YOOXNJKGOSIHESJKAPFBUYYZ9FHFKF9GS9PRSDDNSIJKJUKUVXQGQILEQX9MRVEHACZBBEVVIJGUMZC9YJZDMLJNBQTZBPGXXISXFFZPSVQBIWPJZR9TYK9DFSZKCFEWZAYJMHPCUHYKERTRBPMTUFOUUABDIVDOVNQF9GMCFZCXJGPMLBZXKOOYWY9UYKMVZNMTOGRNKUWNFGEFTZVLFAGCNWLAIBSVPV9KAAZGNCTSAO9ZGJUIAEYIHLKHXVNFFFYJQNAKELZQYARHT9PJX9VT9RYIEIRMFYEVBUD9KGDHI9WHVBUSFGCGMHYOZZYCLWVMMWQXJPQA9MEUN9XABEFIRTCWEZEEMCVDGJQS9YMUHIIHGA9CRJCROBLGZJBDXDDWVLMYVTUZBIYHQVIVOZLQASSS9SUCRRFGYUGKR9QNTFKXRNM9DSHSZQSMUCUEIDYNMDECZ9DVLMGSD9JHJAVYNEFTTZFBSYBACKCSDFY9OCJMBKKADMZVPLJGSZN9TUJHLOSLNVEDDPDIUZYELIYZKBDSQSLDCYNDJDQDEJ9PBX9DFZLHLLWKVEHTCMOXZFXLLYTSVXTRHOUPUTEAUPXHVIMBLOLPOYJQQEZDRRVUIK9UJFQJXKPURGBP9RYMVHAHZHKVMFDIBIXOJBFWMVUOCD9MMBWMHMJNDPONZYBUJURGSOAWBKVBNVOLZNKHDECKVSUWKZYEQATMFTROPEIBUWATBNNAXTCBCGEICSHHHESCZJBKXHIIPWYORZ9MLLWKZWGHCK9OZJJUDIWACHYFHWFYYODP99YHBAZAHEXG9IHXKAQNCFVJDULHWMLYLVCVUEAICNT99PGNQMRZS9IUOSEBPSDAFFCWIHJCAVVXRGWZX9YRNFIMDFS9XBAPTWIBPFPGDLNDSMHDRDWOGCQUSJHKWSPSPC9ZFMITJIVPC9HPTHJXBG9ETTMXZCWQADNXYB9IZQDLCYHFMILMFVWBEZGAIMUNWLCC9EAKTWGMAREEIIA9FITBLJAQJGREMJQQ9JIRGKUBETYGDXVXDHIOLAIQTQPGP9JZAULMEFWWWLPX9OOGCXICZYTOPYWZRQYXQQVHTHDQHOAPSTYJXYMRMILBYNRZXAAFGNTCDMQZKPWCHICGJZXKE9GSUDXZYUAPLHAKAHYHDXNPHENTERYMMBQOPSQIDENXKLKCEYCPVTZQLEEJVYJZV9BWU999999999999999999999999999MYPPA9999999999999999999999NPFHMXD99999999999A99999999DUL9MYHOFNBOZBOCKQQUHEWESTVKLHFUNEXJPTSSTYXPMHZJE9DCESEZOFD9ABVJKVSWYVRJZUTKBLEZXTGAGSHUKIDZLFXTXMDCAOAWDVFCOXFGXYCJANJRFWKDGCWCJHQNLMLKVOLRWUHECBVNEXA9VBHEJ99999IFUHTJCBYPWNURTKXMDJQOW9PATAVRAOVYERXVCZTHZPBJTMCELAKWOJOUUESNAQGAVSRCWSCQSKZ9999999999999999999999999999999999999999999999999999999999AGGJCBBDDWTJSORUSIGSBCREB9E"
	fmt.Println(len(tx))
}
func main3() {
	server := "http://iota.bitfinex.com:80"
	server = "http://176.9.3.149:14265"
	api := giota.NewAPI(server, nil)
	resp, err := api.GetNodeInfo()
	fmt.Println(resp, err)
}

func main2() {
	tritsFrom := []int8{-1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -1, 1}
	trits, _ := giota.ToTrits(tritsFrom)

	trytes := trits.Trytes()
	//fmt.Println(trytes)
	//trytesFrom := "ABCDEAAC9ACB9PO..."
	//trytes2, _ := giota.ToTrytes(trytesFrom)

	//hash := trytes.Hash()

	//api := giota.NewAPI("http://localhost:14265", nil)
	//resp, err := api.FindTransactions([]giota.Trytes{"DEXRPL...SJRU"})

	index := 0
	security := 2
	adr, _ := giota.NewAddress(trytes, index, security) //without checksum.
	//fmt.Println(err)
	fmt.Println(adr)
	//adrWithChecksum := adr.WithChecksum() //adrWithChecksum is trytes type.
	//fmt.Println(adrWithChecksum)

	/*
		tx, err := giota.NewTransaction(trytes)
		mwm := 15
		if tx.HasValidNonce(mwm) {
		}
		trytes2 := tx.trytes()

		key := giota.NewKey(seed, index, security)
		norm := bundleHash.Normalize()
		sign := giota.Sign(norm[:27], key[:6561/3])

		if giota.ValidateSig(adr, []giota.Trytes{sign}, bundleHash) {
		}

		trs := []giota.Transfer{
			giota.Transfer{
				Address: "KTXF...QTIWOWTY",
				Value:   20,
				Tag:     "MOUDAMEPO",
			},
		}
		_, pow := giota.GetBestPoW()
		bdl, err = giota.Send(api, seed, security, trs, mwm, pow)
	*/
}
